"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,o){"function"==typeof define&&define.amd?define(e,function(){return o(document)}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=o(document):t[e]=o(document)}("ping",void 0,function(m){return function(s){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,e){s&&"string"==typeof s||e(new TypeError('"host" must be a string'));var t=f.timeout||3e4,a=f.favicon||"favicon.ico";t&&"number"==typeof t||e(new TypeError('"timeout" must be a number')),a&&"string"==typeof a||e(new TypeError('"favicon" must be a string'));var i=m.createElement("a");i.href=s,i.pathname="",i.search="",i.hash="",i.username="",i.password="",s=i.host;var o,n,c=setTimeout(function(){r({host:s,status:"timeout",time:t})},t),u=function(){i.pathname=a,i.search="?_="+ +new Date;var t=+new Date,o={host:s,accuracy:f.favicon?"high":"low"},e=function(e){clearTimeout(c),o.status="load"===e.type?"available":"unavailable",o.time=+new Date-t,r(o)},n=new Image;n.onload=e,n.onerror=e,n.src=i.href};return"https:"===location.protocol&&"http:"===i.protocol?u():fetch?(o=+new Date,n={host:s,accuracy:"high"},void fetch(i.href,{method:"head",mode:"no-cors",cache:"no-cache"}).then(function(){r(Object.assign({},n,{status:"available",time:+new Date-o}))},function(){r(Object.assign({},n,{status:"unavailable",time:+new Date-o}))})):function(){i.search="?_="+ +new Date;var t=+new Date,o={host:s,accuracy:"medium"},n=m.getElementsByTagName("head")[0],e=function(e){if(clearTimeout(c),n.removeChild(e.target),"error"===e.type)return u();o.status="available",o.time=+new Date-t,r(o)},a=m.createElement("script");a.onload=e,a.onerror=e,a.type="application/javascript",a.src=i.href,n.appendChild(a)}()})}});