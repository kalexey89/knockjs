"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,o){"function"==typeof define&&define.amd?define(e,function(){return o(document)}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=o(document):t[e]=o(document)}("ping",void 0,function(s){return function(u){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,e){u&&"string"==typeof u||e(new Error('"host" must be a string'));var t=f.timeout||6e4,r=f.favicon||"favicon.ico";t&&"number"==typeof t||e(new Error('"timeout" must be a number')),r&&"string"==typeof r||e(new Error('"favicon" must be a string'));var i=s.createElement("a");i.href=u,i.pathname="",i.search="",i.hash="",i.username="",i.password="",u=i.host;var o,n,c=setTimeout(function(){a({host:u,status:"timeout",time:t})},t);return"https:"===location.protocol&&"http:"===i.protocol?function(){i.pathname=r,i.search="?_="+ +new Date;var t=+new Date,o={host:u,accuracy:f.favicon?HIGH:LOW},e=function(e){clearTimeout(c),o.status="load"===e.type?"online":"offline",o.time=+new Date-t,a(o)},n=new Image;n.onload=e,n.onerror=e,n.src=i.href}():fetch?(o=+new Date,n={host:u,accuracy:"high"},void fetch(i.href,{method:"head",mode:"no-cors",cache:"no-cache"}).then(function(){a(Object.assign({},n,{status:"online",time:+new Date-o}))},function(){a(Object.assign({},n,{status:"offline",time:+new Date-o}))})):function(){i.search="?_="+ +new Date;var t=+new Date,o={host:u,accuracy:"medium"},n=s.getElementsByTagName("head")[0],e=function(e){clearTimeout(c),n.removeChild(e.target),o.status="load"===e.type?"online":"offline",o.time=+new Date-t,a(o)},r=s.createElement("script");r.onload=e,r.onerror=e,r.type="application/javascript",r.src=i.href,n.appendChild(r)}()})}});